{"version":3,"sources":["utils/positioner/getScrollParent.ts"],"names":["getParentNode","node","nodeName","parentNode","host","getStyleComputedProperty","nodeType","window","ownerDocument","defaultView","getComputedStyle","getScrollParent","document","body","overflow","overflowX","overflowY","test"],"mappings":"AAAA;;;;;AAKA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAsB;AAC1C,MAAIA,IAAI,CAACC,QAAL,KAAkB,MAAtB,EAA8B,OAAOD,IAAP;AAC9B,SAAOA,IAAI,CAACE,UAAL,IAAoBF,IAAD,CAAcG,IAAxC;AACD,CAHD;AAKA;;;;;;;AAKA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACJ,IAAD,EAA8C;AAC7E,MAAIA,IAAI,CAACK,QAAL,KAAkB,CAAtB,EAAyB,OAAO,EAAP;AAEzB,MAAMC,MAAM,GAAGN,IAAI,CAACO,aAAL,CAAmBC,WAAlC;AACA,SAAOF,MAAM,CAACG,gBAAP,CAAwBT,IAAxB,EAAyC,IAAzC,CAAP;AACD,CALD;AAOA;;;;;;;AAKA,IAAMU,eAAe,GAAG,SAAlBA,eAAkB,CAACV,IAAD,EAAsB;AAC5C;AACA,MAAME,UAAU,GAAGF,IAAI,IAAID,aAAa,CAACC,IAAD,CAAxC,CAF4C,CAG5C;;AACA,MAAI,CAACE,UAAL,EAAiB,OAAOS,QAAQ,CAACC,IAAhB;;AAEjB,UAAQV,UAAU,CAACD,QAAnB;AACE,SAAK,MAAL;AACA,SAAK,MAAL;AACE,aAAOC,UAAU,CAACK,aAAX,CAAyBK,IAAhC;;AACF,SAAK,WAAL;AACE,aAAQV,UAAD,CAAyBU,IAAhC;AALJ,GAN4C,CAc5C;;;AAd4C,8BAeDR,wBAAwB,CAACF,UAAD,CAfvB;AAAA,MAepCW,QAfoC,yBAepCA,QAfoC;AAAA,MAe1BC,SAf0B,yBAe1BA,SAf0B;AAAA,MAefC,SAfe,yBAefA,SAfe;;AAgB5C,MAAI,wBAAwBC,IAAxB,CAA6BH,QAAQ,GAAGE,SAAX,GAAuBD,SAApD,CAAJ,EAAoE,OAAOZ,UAAP;AAEpE,SAAOQ,eAAe,CAACR,UAAD,CAAtB;AACD,CAnBD;;AAqBA,eAAeQ,eAAf","sourcesContent":["/**\n * Returns the parent node or the host of the node argument.\n * @param node - DOM node.\n * @returns - parent DOM node.\n */\nconst getParentNode = (node: Node): Node => {\n  if (node.nodeName === 'HTML') return node;\n  return node.parentNode || (node as any).host;\n};\n\n/**\n * Returns CSS styles of the given node.\n * @param node - DOM node.\n * @returns - CSS styles.\n */\nconst getStyleComputedProperty = (node: Node): Partial<CSSStyleDeclaration> => {\n  if (node.nodeType !== 1) return {};\n\n  const window = node.ownerDocument.defaultView;\n  return window.getComputedStyle(node as Element, null);\n};\n\n/**\n * Returns the first scrollable parent of the given element.\n * @param node - DOM node.\n * @returns - the first scrollable parent.\n */\nconst getScrollParent = (node: Node): Node => {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  const parentNode = node && getParentNode(node);\n  // eslint-disable-next-line\n  if (!parentNode) return document.body;\n\n  switch (parentNode.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return parentNode.ownerDocument.body;\n    case '#document':\n      return (parentNode as Document).body;\n  }\n\n  // If any of the overflow props is defined for the node then we return it as the parent\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(parentNode);\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) return parentNode;\n\n  return getScrollParent(parentNode);\n};\n\nexport default getScrollParent;\n"],"file":"getScrollParent.js"}