{"version":3,"sources":["components/Form/Form.tsx"],"names":["customPropTypes","PropTypes","React","UIComponent","childrenExist","commonPropTypes","rtlTextContainer","withSafeTypeForAs","FormField","Form","e","action","props","args","fields","field","create","defaultProps","className","slotClassNames","accessibility","ElementType","classes","unhandledProps","children","root","handleSubmit","getAttributes","forElements","attributes","renderFields","createCommon","content","string","collectionShorthand","onSubmit","func","as"],"mappings":";;;;;;;;;;AACA,OAAO,KAAKA,eAAZ,MAAiC,2BAAjC;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAGA,SACEC,WADF,EAEEC,aAFF,EAKEC,eALF,EAMEC,gBANF,QAQO,aARP;AASA,SAAiEC,iBAAjE,QAA0F,aAA1F;AACA,OAAOC,SAAP,MAA0C,aAA1C;;IA0BMC,I;;;;;;;;;;;;;;;;;;mEA0CW,UAACC,CAAD,EAAgB;AAAA,UACrBC,MADqB,GACV,MAAKC,KADK,CACrBD,MADqB,EAG7B;AACA;;AACA,UAAI,CAACA,MAAL,EAAa,QAASD,CAAT,EAAY,gBAAZ;;AALgB,yCAATG,IAAS;AAATA,QAAAA,IAAS;AAAA;;AAM7B,6BAAS,MAAKD,KAAd,EAAqB,UAArB,EAAiCF,CAAjC,EAAoC,MAAKE,KAAzC,SAAmDC,IAAnD;AACD,K;;mEAEc,YAAM;AAAA,UACXC,MADW,GACA,MAAKF,KADL,CACXE,MADW;AAEnB,aAAO,KAAMA,MAAN,EAAc,UAAAC,KAAK;AAAA,eACxBP,SAAS,CAACQ,MAAV,CAAiBD,KAAjB,EAAwB;AAAEE,UAAAA,YAAY,EAAE;AAAA,mBAAO;AAAEC,cAAAA,SAAS,EAAET,IAAI,CAACU,cAAL,CAAoBJ;AAAjC,aAAP;AAAA;AAAhB,SAAxB,CADwB;AAAA,OAAnB,CAAP;AAGD,K;;;;;;;0CA9ByF;AAAA,UAAxEK,aAAwE,QAAxEA,aAAwE;AAAA,UAAzDC,WAAyD,QAAzDA,WAAyD;AAAA,UAA5CC,OAA4C,QAA5CA,OAA4C;AAAA,UAAnCC,cAAmC,QAAnCA,cAAmC;AAAA,wBAC3D,KAAKX,KADsD;AAAA,UAChFD,MADgF,eAChFA,MADgF;AAAA,UACxEa,QADwE,eACxEA,QADwE;AAExF,aACE,oBAAC,WAAD;AACE,QAAA,SAAS,EAAEF,OAAO,CAACG,IADrB;AAEE,QAAA,MAAM,EAAEd,MAFV;AAGE,QAAA,QAAQ,EAAE,KAAKe;AAHjB,SAIMpB,gBAAgB,CAACqB,aAAjB,CAA+B;AAAEC,QAAAA,WAAW,EAAE,CAACJ,QAAD;AAAf,OAA/B,CAJN,EAKMJ,aAAa,CAACS,UAAd,CAAyBJ,IAL/B,EAMMF,cANN,GAQGnB,aAAa,CAACoB,QAAD,CAAb,GAA0BA,QAA1B,GAAqC,KAAKM,YAAL,EARxC,CADF;AAYD;;;;EAxCgB3B,W;AA2DnB;;;;;gBA3DMM,I;;gBAAAA,I,iBAGiB,M;;gBAHjBA,I,eAKe,S;;gBALfA,I,oBAOwC;AAC1CM,EAAAA,KAAK,YAAKN,IAAI,CAACS,SAAV;AADqC,C;;gBAPxCT,I,iCAYCJ,eAAe,CAAC0B,YAAhB,CAA6B;AAC9BC,EAAAA,OAAO,EAAE;AADqB,CAA7B,C;AAGHrB,EAAAA,MAAM,EAAEV,SAAS,CAACgC,M;AAClBnB,EAAAA,MAAM,EAAEd,eAAe,CAACkC,mB;AACxBC,EAAAA,QAAQ,EAAElC,SAAS,CAACmC;;;gBAjBlB3B,I,kBAoBkB;AACpB4B,EAAAA,EAAE,EAAE;AADgB,C;;gBApBlB5B,I,WAwBWD,S;;AAsCjB,eAAeD,iBAAiB,CAAiCE,IAAjC,CAAhC","sourcesContent":["import { Accessibility } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as _ from 'lodash';\n\nimport {\n  UIComponent,\n  childrenExist,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  ShorthandFactory,\n} from '../../utils';\nimport { ComponentEventHandler, WithAsProp, ShorthandCollection, withSafeTypeForAs } from '../../types';\nimport FormField, { FormFieldProps } from './FormField';\n\nexport interface FormSlotClassNames {\n  field: string;\n}\n\nexport interface FormProps extends UIComponentProps, ChildrenComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility;\n\n  /** The HTML form action. */\n  action?: string;\n\n  /** Shorthand array of props for the Form.Fields inside the Form. */\n  fields?: ShorthandCollection<FormFieldProps>;\n\n  /**\n   * The HTML form submit handler.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onSubmit?: ComponentEventHandler<FormProps>;\n}\n\nclass Form extends UIComponent<WithAsProp<FormProps>, any> {\n  static create: ShorthandFactory<FormProps>;\n\n  static displayName = 'Form';\n\n  static className = 'ui-form';\n\n  static slotClassNames: FormSlotClassNames = {\n    field: `${Form.className}__field`,\n  };\n\n  static propTypes = {\n    ...commonPropTypes.createCommon({\n      content: false,\n    }),\n    action: PropTypes.string,\n    fields: customPropTypes.collectionShorthand,\n    onSubmit: PropTypes.func,\n  };\n\n  static defaultProps = {\n    as: 'form',\n  };\n\n  static Field = FormField;\n\n  renderComponent({ accessibility, ElementType, classes, unhandledProps }): React.ReactNode {\n    const { action, children } = this.props;\n    return (\n      <ElementType\n        className={classes.root}\n        action={action}\n        onSubmit={this.handleSubmit}\n        {...rtlTextContainer.getAttributes({ forElements: [children] })}\n        {...accessibility.attributes.root}\n        {...unhandledProps}\n      >\n        {childrenExist(children) ? children : this.renderFields()}\n      </ElementType>\n    );\n  }\n\n  handleSubmit = (e, ...args) => {\n    const { action } = this.props;\n\n    // Heads up! Third party libs can pass own data as first argument, we need to check that it has preventDefault()\n    // method.\n    if (!action) _.invoke(e, 'preventDefault');\n    _.invoke(this.props, 'onSubmit', e, this.props, ...args);\n  };\n\n  renderFields = () => {\n    const { fields } = this.props;\n    return _.map(fields, field =>\n      FormField.create(field, { defaultProps: () => ({ className: Form.slotClassNames.field }) }),\n    );\n  };\n}\n\n/**\n * A Form is used to collect, oprionally validate, and submit the user input, in a structured way.\n */\nexport default withSafeTypeForAs<typeof Form, FormProps, 'form'>(Form);\n"],"file":"Form.js"}