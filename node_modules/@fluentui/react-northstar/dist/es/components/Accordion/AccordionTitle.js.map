{"version":3,"sources":["components/Accordion/AccordionTitle.tsx"],"names":["accordionTitleBehavior","indicatorBehavior","Ref","customPropTypes","PropTypes","React","childrenExist","createShorthandFactory","UIComponent","commonPropTypes","rtlTextContainer","applyAccessibilityKeyHandlers","withSafeTypeForAs","Box","AccordionTitle","performClick","e","preventDefault","handleClick","props","disabled","stopPropagation","predefinedProps","onFocus","handleFocus","onClick","ElementType","classes","unhandledProps","styles","accessibility","contentRef","children","content","indicator","contentWrapper","contentWrapperElement","create","defaultProps","className","slotClassNames","attributes","keyHandlers","overrideProps","as","handleWrapperOverrides","root","getAttributes","forElements","createCommon","accordionContentId","string","active","bool","ref","wrapperShorthand","canBeCollapsed","index","number","func","shorthandAllowingChildren","Component","mappedProp"],"mappings":"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","sourcesContent":["import { accordionTitleBehavior, indicatorBehavior } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  childrenExist,\n  createShorthandFactory,\n  UIComponent,\n  UIComponentProps,\n  ContentComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  applyAccessibilityKeyHandlers,\n  ShorthandFactory,\n} from '../../utils';\nimport { WithAsProp, ComponentEventHandler, ShorthandValue, withSafeTypeForAs } from '../../types';\nimport Box, { BoxProps } from '../Box/Box';\n\nexport interface AccordionTitleSlotClassNames {\n  contentWrapper: string;\n}\n\nexport interface AccordionTitleProps\n  extends UIComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>>,\n    ChildrenComponentProps {\n  /** Id of the content it owns. */\n  accordionContentId?: string;\n\n  /** Whether or not the title is in the open state. */\n  active?: boolean;\n\n  /** If at least one panel needs to stay active and this title does not correspond to the last active one. */\n  canBeCollapsed?: boolean;\n\n  /** Shorthand for the content wrapper element. */\n  contentWrapper?: ShorthandValue<BoxProps>;\n\n  /** An accordion title can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** AccordionTitle index inside Accordion. */\n  index?: number;\n\n  /** Ref to the clickable element that contains the title. */\n  contentRef?: React.Ref<HTMLElement>;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<AccordionTitleProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<AccordionTitleProps>;\n\n  /** Shorthand for the active indicator. */\n  indicator?: ShorthandValue<BoxProps>;\n}\n\nclass AccordionTitle extends UIComponent<WithAsProp<AccordionTitleProps>, any> {\n  static displayName = 'AccordionTitle';\n\n  static create: ShorthandFactory<AccordionTitleProps>;\n\n  static className = 'ui-accordion__title';\n\n  static slotClassNames: AccordionTitleSlotClassNames;\n\n  static propTypes = {\n    ...commonPropTypes.createCommon({ content: 'shorthand' }),\n    accordionContentId: PropTypes.string,\n    active: PropTypes.bool,\n    contentRef: customPropTypes.ref,\n    contentWrapper: customPropTypes.wrapperShorthand,\n    canBeCollapsed: PropTypes.bool,\n    disabled: PropTypes.bool,\n    index: PropTypes.number,\n    onClick: PropTypes.func,\n    indicator: customPropTypes.shorthandAllowingChildren,\n  };\n\n  static defaultProps = {\n    accessibility: accordionTitleBehavior,\n    as: 'dt',\n    contentRef: _.noop,\n    indicator: {},\n    contentWrapper: {},\n  };\n\n  actionHandlers = {\n    performClick: e => {\n      e.preventDefault();\n      this.handleClick(e);\n    },\n  };\n\n  handleClick = (e: React.SyntheticEvent) => {\n    if (!this.props.disabled) {\n      _.invoke(this.props, 'onClick', e, this.props);\n    }\n  };\n\n  handleFocus = (e: React.SyntheticEvent) => {\n    e.stopPropagation();\n    _.invoke(this.props, 'onFocus', e, this.props);\n  };\n\n  handleWrapperOverrides = predefinedProps => ({\n    onFocus: (e: React.FocusEvent) => {\n      this.handleFocus(e);\n      _.invoke(predefinedProps, 'onFocus', e, this.props);\n    },\n    onClick: (e: React.MouseEvent) => {\n      this.handleClick(e);\n      _.invoke(predefinedProps, 'onClick', e, this.props);\n    },\n  });\n\n  renderComponent({ ElementType, classes, unhandledProps, styles, accessibility }) {\n    const { contentRef, children, content, indicator, contentWrapper } = this.props;\n\n    const contentWrapperElement = (\n      <Ref innerRef={contentRef}>\n        {Box.create(contentWrapper, {\n          defaultProps: () => ({\n            className: AccordionTitle.slotClassNames.contentWrapper,\n            styles: styles.contentWrapper,\n            ...accessibility.attributes.content,\n            ...applyAccessibilityKeyHandlers(accessibility.keyHandlers.content, unhandledProps),\n          }),\n          overrideProps: predefinedProps => ({\n            children: (\n              <>\n                {Box.create(indicator, {\n                  defaultProps: () => ({\n                    styles: styles.indicator,\n                    accessibility: indicatorBehavior,\n                  }),\n                })}\n                {Box.create(content, {\n                  defaultProps: () => ({\n                    as: 'span',\n                    styles: styles.content,\n                  }),\n                })}\n              </>\n            ),\n            ...this.handleWrapperOverrides(predefinedProps),\n          }),\n        })}\n      </Ref>\n    );\n\n    return (\n      <ElementType\n        className={classes.root}\n        {...rtlTextContainer.getAttributes({ forElements: [children] })}\n        {...accessibility.attributes.root}\n        {...unhandledProps}\n        {...applyAccessibilityKeyHandlers(accessibility.keyHandlers.root, unhandledProps)}\n      >\n        {childrenExist(children) ? children : contentWrapperElement}\n      </ElementType>\n    );\n  }\n}\n\nAccordionTitle.create = createShorthandFactory({ Component: AccordionTitle, mappedProp: 'content' });\n\nAccordionTitle.slotClassNames = {\n  contentWrapper: `${AccordionTitle.className}__content-wrapper`,\n};\n\n/**\n * An AccordionTitle represents the title of Accordion's item that can be interacted with to expand or collapse the item's content.\n */\nexport default withSafeTypeForAs<typeof AccordionTitle, AccordionTitleProps>(AccordionTitle);\n"],"file":"AccordionTitle.js"}