{"version":3,"sources":["components/Table/TableCell.tsx"],"names":["customPropTypes","tableCellBehavior","Ref","PropTypes","React","childrenExist","commonPropTypes","createShorthandFactory","useTelemetry","useStyles","getElementType","useUnhandledProps","useAccessibility","ThemeContext","Box","withSafeTypeForAs","TableCell","props","context","useContext","displayName","telemetry","setStart","setEnd","cellRef","useRef","children","content","truncateContent","className","design","styles","variables","hasChildren","ElementType","unhandledProps","handledProps","getA11yProps","accessibility","debugName","actionHandlers","focusCell","e","preventDefault","current","focus","performClick","handleClick","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","currentTarget","target","element","unstable_wrapWithFocusZone","root","onClick","create","defaultProps","slotClassNames","propTypes","createCommon","every","disallow","oneOfType","arrayOf","nodeContent","bool","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import * as customPropTypes from '@fluentui/react-proptypes';\nimport { Accessibility, tableCellBehavior, TableCellBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as _ from 'lodash';\nimport {\n  childrenExist,\n  ChildrenComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  createShorthandFactory,\n  UIComponentProps,\n} from '../../utils';\nimport { useTelemetry, useStyles, getElementType, useUnhandledProps, useAccessibility } from '@fluentui/react-bindings';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\nimport Box, { BoxProps } from '../Box/Box';\nimport {\n  WithAsProp,\n  ShorthandValue,\n  withSafeTypeForAs,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\n\nexport interface TableCellProps\n  extends UIComponentProps,\n    ChildrenComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available TableCellBehavior\n   * */\n  accessibility?: Accessibility<TableCellBehaviorProps>;\n\n  /**\n   * Truncate cell's content\n   */\n  truncateContent?: boolean;\n}\n\nexport type TableCellStylesProps = Pick<TableCellProps, 'truncateContent'>;\n\nexport interface TableCellSlotClassNames {\n  content: string;\n}\n\nconst TableCell: React.FC<WithAsProp<TableCellProps>> &\n  FluentComponentStaticProps<TableCellProps> & {\n    slotClassNames: TableCellSlotClassNames;\n  } = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(TableCell.displayName, context.telemetry);\n  setStart();\n  const cellRef = React.useRef<HTMLElement>();\n\n  const { children, content, truncateContent, className, design, styles, variables } = props;\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableCell.handledProps, props);\n  const getA11yProps = useAccessibility(props.accessibility, {\n    debugName: TableCell.displayName,\n    actionHandlers: {\n      focusCell: e => {\n        e.preventDefault();\n        cellRef.current.focus();\n      },\n      performClick: e => {\n        handleClick(e);\n      },\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<TableCellStylesProps>(TableCell.displayName, {\n    className: TableCell.className,\n    mapPropsToStyles: () => ({\n      truncateContent,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (e.currentTarget === e.target) {\n      _.invoke(props, 'onClick', e, props);\n      e.preventDefault();\n    }\n  };\n\n  const element = (\n    <Ref innerRef={cellRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            onClick: handleClick,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren\n            ? children\n            : Box.create(content, {\n                defaultProps: () => ({ styles: resolvedStyles.content }),\n              })}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n};\n\nTableCell.displayName = 'TableCell';\n\nTableCell.className = 'ui-table__cell';\n\nTableCell.slotClassNames = {\n  content: `${TableCell.className}__content`,\n};\n\nTableCell.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  content: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(customPropTypes.nodeContent), customPropTypes.nodeContent]),\n  ]),\n  truncateContent: PropTypes.bool,\n};\n\nTableCell.handledProps = Object.keys(TableCell.propTypes) as any;\n\nTableCell.defaultProps = {\n  accessibility: tableCellBehavior,\n};\n\nTableCell.create = createShorthandFactory({ Component: TableCell, mappedProp: 'content' });\n\n/**\n * Component represents a table cell\n */\nexport default withSafeTypeForAs<typeof TableCell, TableCellProps, 'div'>(TableCell);\n"],"file":"TableCell.js"}