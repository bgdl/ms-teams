{"version":3,"sources":["components/Menu/MenuItem.tsx"],"names":["menuItemBehavior","submenuBehavior","indicatorBehavior","focusAsync","EventListener","Ref","customPropTypes","cx","PropTypes","React","AutoControlledComponent","childrenExist","createShorthandFactory","doesNodeContainClick","commonPropTypes","isFromKeyboard","applyAccessibilityKeyHandlers","Menu","Box","withSafeTypeForAs","Popper","getPopperPropsFromShorthand","MenuItem","createRef","e","props","inSubmenu","currentTarget","contains","relatedTarget","trySetMenuOpen","performClick","event","defaultPrevented","handleClick","openMenu","closeAllMenusAndFocusNextParentItem","closeAllMenus","closeMenu","closeMenuAndFocusTrigger","doNotNavigateNextParentItem","stopPropagation","isSubmenuOpen","itemRef","current","context","target","menuRef","active","menu","state","menuOpen","preventDefault","disabled","setState","forceTriggerFocus","shouldStopPropagation","vertical","ElementType","classes","accessibility","unhandledProps","styles","rtl","children","content","icon","wrapper","primary","secondary","indicator","menuItemInner","root","handleBlur","handleFocus","attributes","keyHandlers","onClick","create","defaultProps","as","className","slotClassNames","maybeSubmenu","submenu","outsideClickHandler","overrideProps","onBlur","handleWrapperBlur","newValue","onStateChanged","createCommon","bool","shorthandAllowingChildren","iconOnly","index","number","itemPosition","itemsCount","func","onFocus","pills","pointing","oneOfType","oneOf","every","disallow","underlined","node","object","itemShorthand","collectionShorthand","defaultMenuOpen","onActiveChanged","onMenuOpenChange","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, menuItemBehavior, submenuBehavior, indicatorBehavior } from '@fluentui/accessibility';\nimport { focusAsync } from '@fluentui/react-bindings';\nimport { EventListener } from '@fluentui/react-component-event-listener';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport cx from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  AutoControlledComponent,\n  childrenExist,\n  createShorthandFactory,\n  doesNodeContainClick,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  isFromKeyboard,\n  applyAccessibilityKeyHandlers,\n  ShorthandFactory,\n} from '../../utils';\nimport Menu, { MenuProps, MenuShorthandKinds } from './Menu';\nimport Box, { BoxProps } from '../Box/Box';\nimport { ComponentEventHandler, WithAsProp, ShorthandValue, ShorthandCollection, withSafeTypeForAs } from '../../types';\nimport { Popper, PopperShorthandProps, getPopperPropsFromShorthand } from '../../utils/positioner';\n\nexport interface MenuItemSlotClassNames {\n  wrapper: string;\n  submenu: string;\n  indicator: string;\n}\n\nexport interface MenuItemProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available menuItemAsToolbarButtonBehavior, tabBehavior\n   */\n  accessibility?: Accessibility;\n\n  /** A menu item can be active. */\n  active?: boolean;\n\n  /** A menu item can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** Name or shorthand for Menu Item Icon */\n  icon?: ShorthandValue<BoxProps>;\n\n  /** A menu may have just icons. */\n  iconOnly?: boolean;\n\n  /** MenuItem index inside Menu. */\n  index?: number;\n\n  /** MenuItem position inside Menu (skipping separators). */\n  itemPosition?: number;\n\n  /** MenuItem count inside Menu. */\n  itemsCount?: number;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<MenuItemProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<MenuItemProps>;\n\n  /**\n   * Called after item blur.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onBlur?: ComponentEventHandler<MenuItemProps>;\n\n  /** A menu can adjust its appearance to de-emphasize its contents. */\n  pills?: boolean;\n\n  /**\n   * A menu can point to show its relationship to nearby content.\n   * For vertical menu, it can point to the start of the item or to the end.\n   */\n  pointing?: boolean | 'start' | 'end';\n\n  /** The menu item can have primary type. */\n  primary?: boolean;\n\n  /** The menu item can have secondary type. */\n  secondary?: boolean;\n\n  /** Menu items can by highlighted using underline. */\n  underlined?: boolean;\n\n  /** A vertical menu displays elements vertically. */\n  vertical?: boolean;\n\n  /** Shorthand for the wrapper component. */\n  wrapper?: ShorthandValue<BoxProps>;\n\n  /** Shorthand for the submenu. */\n  menu?:\n    | ShorthandValue<MenuProps & { popper?: PopperShorthandProps }>\n    | ShorthandCollection<MenuItemProps, MenuShorthandKinds>;\n\n  /** Indicates if the menu inside the item is open. */\n  menuOpen?: boolean;\n\n  /** Default menu open */\n  defaultMenuOpen?: boolean;\n\n  /** Callback for setting the current menu item as active element in the menu. */\n  onActiveChanged?: ComponentEventHandler<MenuItemProps>;\n\n  /** Indicates whether the menu item is part of submenu. */\n  inSubmenu?: boolean;\n\n  /** Shorthand for the submenu indicator. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /**\n   * Event for request to change 'open' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onMenuOpenChange?: ComponentEventHandler<MenuItemProps>;\n}\n\nexport interface MenuItemState {\n  isFromKeyboard: boolean;\n  menuOpen: boolean;\n}\n\nclass MenuItem extends AutoControlledComponent<WithAsProp<MenuItemProps>, MenuItemState> {\n  static displayName = 'MenuItem';\n\n  static className = 'ui-menu__item';\n\n  static slotClassNames: MenuItemSlotClassNames = {\n    submenu: `${MenuItem.className}__submenu`,\n    wrapper: `${MenuItem.className}__wrapper`,\n    indicator: `${MenuItem.className}__indicator`,\n  };\n\n  static create: ShorthandFactory<MenuItemProps>;\n\n  static propTypes = {\n    ...commonPropTypes.createCommon(),\n    active: PropTypes.bool,\n    disabled: PropTypes.bool,\n    icon: customPropTypes.shorthandAllowingChildren,\n    iconOnly: PropTypes.bool,\n    index: PropTypes.number,\n    itemPosition: PropTypes.number,\n    itemsCount: PropTypes.number,\n    onClick: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    pills: PropTypes.bool,\n    pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['start', 'end'])]),\n    primary: customPropTypes.every([customPropTypes.disallow(['secondary']), PropTypes.bool]),\n    secondary: customPropTypes.every([customPropTypes.disallow(['primary']), PropTypes.bool]),\n    underlined: PropTypes.bool,\n    vertical: PropTypes.bool,\n    wrapper: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n    menu: PropTypes.oneOfType([customPropTypes.itemShorthand, customPropTypes.collectionShorthand]),\n    menuOpen: PropTypes.bool,\n    defaultMenuOpen: PropTypes.bool,\n    onActiveChanged: PropTypes.func,\n    inSubmenu: PropTypes.bool,\n    indicator: customPropTypes.shorthandAllowingChildren,\n    onMenuOpenChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    as: 'a',\n    accessibility: menuItemBehavior as Accessibility,\n    wrapper: { as: 'li' },\n    indicator: {},\n  };\n\n  static autoControlledProps = ['menuOpen'];\n\n  menuRef = React.createRef<HTMLElement>();\n  itemRef = React.createRef<HTMLElement>();\n\n  renderComponent({ ElementType, classes, accessibility, unhandledProps, styles, rtl }) {\n    const {\n      children,\n      content,\n      icon,\n      wrapper,\n      menu,\n      primary,\n      secondary,\n      active,\n      vertical,\n      indicator,\n      disabled,\n    } = this.props;\n    const { menuOpen } = this.state;\n\n    const menuItemInner = childrenExist(children) ? (\n      children\n    ) : (\n      <Ref innerRef={this.itemRef}>\n        <ElementType\n          className={classes.root}\n          disabled={disabled}\n          onBlur={this.handleBlur}\n          onFocus={this.handleFocus}\n          {...accessibility.attributes.root}\n          {...accessibility.keyHandlers.root}\n          {...unhandledProps}\n          {...(!wrapper && { onClick: this.handleClick })}\n          {...applyAccessibilityKeyHandlers(accessibility.keyHandlers.root, unhandledProps)}\n        >\n          {Box.create(icon, {\n            defaultProps: () => ({\n              styles: styles.icon,\n              as: 'span',\n            }),\n          })}\n          {Box.create(content, {\n            defaultProps: () => ({ as: 'span', styles: styles.content }),\n          })}\n          {menu &&\n            Box.create(indicator, {\n              defaultProps: () => ({\n                as: 'span',\n                className: MenuItem.slotClassNames.indicator,\n                styles: styles.indicator,\n                accessibility: indicatorBehavior,\n              }),\n            })}\n        </ElementType>\n      </Ref>\n    );\n    const maybeSubmenu =\n      menu && active && menuOpen ? (\n        <>\n          <Ref innerRef={this.menuRef}>\n            <Popper\n              align={vertical ? 'top' : rtl ? 'end' : 'start'}\n              position={vertical ? (rtl ? 'before' : 'after') : 'below'}\n              targetRef={this.itemRef}\n              {...getPopperPropsFromShorthand(menu)}\n            >\n              {Menu.create(menu, {\n                defaultProps: () => ({\n                  accessibility: submenuBehavior,\n                  className: MenuItem.slotClassNames.submenu,\n                  vertical: true,\n                  primary,\n                  secondary,\n                  styles: styles.menu,\n                  submenu: true,\n                  indicator,\n                }),\n              })}\n            </Popper>\n          </Ref>\n          <EventListener listener={this.outsideClickHandler} target={this.context.target} type=\"click\" />\n        </>\n      ) : null;\n\n    if (wrapper) {\n      return Box.create(wrapper, {\n        defaultProps: () => ({\n          className: cx(MenuItem.slotClassNames.wrapper, classes.wrapper),\n          ...accessibility.attributes.wrapper,\n          ...applyAccessibilityKeyHandlers(accessibility.keyHandlers.wrapper, wrapper),\n        }),\n        overrideProps: () => ({\n          children: (\n            <>\n              {menuItemInner}\n              {maybeSubmenu}\n            </>\n          ),\n          onClick: this.handleClick,\n          onBlur: this.handleWrapperBlur,\n        }),\n      });\n    }\n    return menuItemInner;\n  }\n\n  handleWrapperBlur = e => {\n    if (!this.props.inSubmenu && !e.currentTarget.contains(e.relatedTarget)) {\n      this.trySetMenuOpen(false, e);\n    }\n  };\n\n  actionHandlers = {\n    performClick: event => !event.defaultPrevented && this.handleClick(event),\n    openMenu: event => this.openMenu(event),\n    closeAllMenusAndFocusNextParentItem: event => this.closeAllMenus(event),\n    closeMenu: event => this.closeMenu(event),\n    closeMenuAndFocusTrigger: event => this.closeMenu(event, true),\n    doNotNavigateNextParentItem: event => {\n      event.stopPropagation();\n    },\n    closeAllMenus: event => this.closeAllMenus(event),\n  };\n\n  outsideClickHandler = e => {\n    if (!this.isSubmenuOpen()) return;\n    if (\n      !doesNodeContainClick(this.itemRef.current, e, this.context.target) &&\n      !doesNodeContainClick(this.menuRef.current, e, this.context.target)\n    ) {\n      this.trySetMenuOpen(false, e);\n    }\n  };\n\n  performClick = e => {\n    const { active, menu } = this.props;\n\n    if (menu) {\n      if (doesNodeContainClick(this.menuRef.current, e, this.context.target)) {\n        // submenu was clicked => close it and propagate\n        this.trySetMenuOpen(false, e, () => focusAsync(this.itemRef.current));\n      } else {\n        // the menuItem element was clicked => toggle the open/close and stop propagation\n        this.trySetMenuOpen(active ? !this.state.menuOpen : true, e);\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    }\n  };\n\n  handleClick = (e: Event | React.SyntheticEvent) => {\n    const { disabled } = this.props;\n\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    this.performClick(e);\n    _.invoke(this.props, 'onClick', e, this.props);\n  };\n\n  handleBlur = (e: React.SyntheticEvent) => {\n    this.setState({ isFromKeyboard: false });\n\n    _.invoke(this.props, 'onBlur', e, this.props);\n  };\n\n  handleFocus = (e: React.SyntheticEvent) => {\n    this.setState({ isFromKeyboard: isFromKeyboard() });\n\n    _.invoke(this.props, 'onFocus', e, this.props);\n  };\n\n  isSubmenuOpen = (): boolean => {\n    const { menu } = this.props;\n    const { menuOpen } = this.state;\n\n    return !!(menu && menuOpen);\n  };\n\n  closeAllMenus = (e: Event) => {\n    if (!this.isSubmenuOpen()) {\n      return;\n    }\n    const { inSubmenu } = this.props;\n    this.trySetMenuOpen(false, e, () => {\n      if (!inSubmenu) {\n        focusAsync(this.itemRef.current);\n      }\n    });\n\n    // avoid spacebar scrolling the page\n    if (!inSubmenu) {\n      e.preventDefault();\n    }\n  };\n\n  closeMenu = (e: Event, forceTriggerFocus?: boolean) => {\n    if (!this.isSubmenuOpen()) {\n      return;\n    }\n\n    const { inSubmenu } = this.props;\n    const shouldStopPropagation = inSubmenu || this.props.vertical;\n    this.trySetMenuOpen(false, e, () => {\n      if (forceTriggerFocus || shouldStopPropagation) {\n        focusAsync(this.itemRef.current);\n      }\n    });\n\n    if (forceTriggerFocus || shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n\n  openMenu = (e: Event) => {\n    const { menu } = this.props;\n    const { menuOpen } = this.state;\n    if (menu && !menuOpen) {\n      this.trySetMenuOpen(true, e);\n      _.invoke(this.props, 'onActiveChanged', e, { ...this.props, active: true });\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  };\n\n  trySetMenuOpen(newValue: boolean, e: Event | React.SyntheticEvent, onStateChanged?: any) {\n    this.setState({ menuOpen: newValue });\n    // The reason why post-effect is not passed as callback to trySetState method\n    // is that in 'controlled' mode the post-effect is applied before final re-rendering\n    // which cause a broken behavior: for e.g. when it is needed to focus submenu trigger on ESC.\n    // TODO: all DOM post-effects should be applied at componentDidMount & componentDidUpdated stages.\n    onStateChanged && onStateChanged();\n    _.invoke(this.props, 'onMenuOpenChange', e, {\n      ...this.props,\n      menuOpen: newValue,\n    });\n  }\n}\n\nMenuItem.create = createShorthandFactory({ Component: MenuItem, mappedProp: 'content' });\n\n/**\n * A MenuItem is an actionable item within a Menu.\n */\nexport default withSafeTypeForAs<typeof MenuItem, MenuItemProps, 'a'>(MenuItem);\n"],"file":"MenuItem.js"}