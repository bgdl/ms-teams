"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var react_bindings_1 = require("@fluentui/react-bindings");
var React = require("react");
var isBrowser_1 = require("../../utils/isBrowser");
exports.PortalBoxContext = React.createContext(null);
var usePortalBox = function (options) {
    var className = options.className, rtl = options.rtl, target = options.target;
    var element = React.useMemo(function () { return (isBrowser_1.default() ? target.createElement('div') : null); }, [
        target,
    ]);
    react_bindings_1.useIsomorphicLayoutEffect(function () {
        if (element) {
            target.body.appendChild(element);
        }
        return function () {
            if (element) {
                target.body.removeChild(element);
            }
        };
    }, []);
    react_bindings_1.useIsomorphicLayoutEffect(function () {
        if (element) {
            element.setAttribute('class', className);
            if (rtl) {
                element.setAttribute('dir', 'rtl');
            }
            else {
                element.removeAttribute('dir');
            }
        }
    }, [className, rtl]);
    return element;
};
exports.default = usePortalBox;
