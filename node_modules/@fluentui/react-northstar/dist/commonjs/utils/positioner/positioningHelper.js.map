{"version":3,"sources":["utils/positioner/positioningHelper.ts"],"names":["PlacementParts","getPositionMap","rtl","above","top","below","bottom","before","right","left","after","getAlignmentMap","start","end","center","shouldAlignToCenter","p","a","positionedVertically","alignedVertically","getPlacement","align","position","alignment","computedPosition","computedAlignmnent","stringifiedAlignment","flipPlusMinusSigns","offset","replace","trimLeft","applyRtlToOffset","split","horizontal","vertical","join","trim"],"mappings":"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","sourcesContent":["import { Placement } from 'popper.js';\n\nimport { Alignment, Position } from './types';\n\nenum PlacementParts {\n  top = 'top',\n  bottom = 'bottom',\n  start = 'start',\n  end = 'end',\n  left = 'left',\n  right = 'right',\n  center = '',\n}\n\nconst getPositionMap = (rtl: boolean): Record<Position, PlacementParts> => ({\n  above: PlacementParts.top,\n  below: PlacementParts.bottom,\n  before: rtl ? PlacementParts.right : PlacementParts.left,\n  after: rtl ? PlacementParts.left : PlacementParts.right,\n});\n\nconst getAlignmentMap = (rtl: boolean): Record<Alignment, PlacementParts> => ({\n  start: rtl ? PlacementParts.end : PlacementParts.start,\n  end: rtl ? PlacementParts.start : PlacementParts.end,\n  top: PlacementParts.start,\n  bottom: PlacementParts.end,\n  center: PlacementParts.center,\n});\n\nconst shouldAlignToCenter = (p: Position, a: Alignment) => {\n  const positionedVertically = p === 'above' || p === 'below';\n  const alignedVertically = a === 'top' || a === 'bottom';\n\n  return (positionedVertically && alignedVertically) || (!positionedVertically && !alignedVertically);\n};\n\n/**\n * | position | alignment | placement       | placement RTL\n * -----------------------------------------------------------------\n * | above    | start     |  top-start      |  top-end\n * | above    | center    |  top            |  top\n * | above    | end       |  top-end        |  top-start\n * | below    | start     |  bottom-start   |  bottom-end\n * | below    | center    |  bottom         |  bottom\n * | below    | end       |  bottom-end     |  bottom-start\n * | before   | top       |  left-start     |  right-start\n * | before   | center    |  left           |  right\n * | before   | bottom    |  left-end       |  right-end\n * | after    | top       |  right-start    |  left-start\n * | after    | center    |  right          |  left\n * | after    | bottom    |  right-end      |  left-end\n */\nexport const getPlacement = ({\n  align,\n  position,\n  rtl,\n}: {\n  align: Alignment;\n  position: Position;\n  rtl: boolean;\n}): Placement => {\n  const alignment: Alignment = shouldAlignToCenter(position, align) ? 'center' : align;\n  const computedPosition = getPositionMap(rtl)[position];\n  const computedAlignmnent = getAlignmentMap(rtl)[alignment];\n  const stringifiedAlignment = computedAlignmnent && `-${computedAlignmnent}`;\n\n  return `${computedPosition}${stringifiedAlignment}` as Placement;\n};\n\n//\n// OFFSET VALUES ADJUSTMENT\n//\n\nconst flipPlusMinusSigns = (offset: string): string => {\n  return offset\n    .replace(/\\-/g, '<plus>')\n    .replace(/^(\\s*)(?=\\d)/, '<minus>')\n    .replace(/\\+/g, '<minus>')\n    .replace(/<plus>/g, '+')\n    .replace(/<minus>/g, '-')\n    .trimLeft()\n    .replace(/^\\+/, '');\n};\n\nexport const applyRtlToOffset = (offset: string, position: Position): string => {\n  if (position === 'above' || position === 'below') {\n    const [horizontal, vertical] = offset.split(',');\n    return [flipPlusMinusSigns(horizontal), vertical]\n      .join(', ')\n      .replace(/, $/, '')\n      .trim();\n  }\n\n  return offset;\n};\n"],"file":"positioningHelper.js"}