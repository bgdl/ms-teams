{"version":3,"sources":["components/Alert/Alert.tsx"],"names":["Alert","predefinedProps","onClick","e","buttonProps","props","visible","setState","styles","accessibility","actions","dismissible","dismissAction","content","icon","header","body","danger","warning","info","success","variables","bodyContent","Text","create","defaultProps","className","slotClassNames","attributes","Box","id","state","bodyId","overrideProps","children","ButtonGroup","AlertDismissAction","handleDismissOverrides","config","classes","ElementType","unhandledProps","root","handleFocus","rtlTextContainer","getAttributes","forElements","renderContent","AutoControlledComponent","commonPropTypes","createCommon","PropTypes","oneOfType","customPropTypes","itemShorthand","collectionShorthand","shorthandAllowingChildren","attached","bool","oneOf","fitted","defaultVisible","onVisibleChange","func","onFocus","alertBehavior"],"mappings":"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","sourcesContent":["import { Accessibility, alertBehavior } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  AutoControlledComponent,\n  UIComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  childrenExist,\n  rtlTextContainer,\n} from '../../utils';\nimport { RenderResultConfig } from '../../utils/renderComponent';\nimport { ComponentEventHandler, WithAsProp, ShorthandValue, withSafeTypeForAs, ShorthandCollection } from '../../types';\nimport Box, { BoxProps } from '../Box/Box';\nimport { ButtonProps } from '../Button/Button';\nimport Text, { TextProps } from '../Text/Text';\n\nimport ButtonGroup, { ButtonGroupProps } from '../Button/ButtonGroup';\nimport AlertDismissAction, { AlertDismissActionProps } from './AlertDismissAction';\n\nexport interface AlertSlotClassNames {\n  content: string;\n  actions: string;\n  icon: string;\n  header: string;\n  body: string;\n}\n\nexport interface AlertProps extends UIComponentProps, ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available alertWarningBehavior\n   */\n  accessibility?: Accessibility;\n\n  /** An alert can contain action buttons. */\n  actions?: ShorthandValue<ButtonGroupProps> | ShorthandCollection<ButtonProps>;\n\n  /** An alert may contain an icon. */\n  icon?: ShorthandValue<BoxProps>;\n\n  /** An alert may contain a header. */\n  header?: ShorthandValue<TextProps>;\n\n  /** An alert's position relative to neighboring items. */\n  attached?: boolean | 'top' | 'bottom';\n\n  /** An alert can only take up the width of its content. */\n  fitted?: boolean;\n\n  /** An alert may be formatted to display a danger message. */\n  danger?: boolean;\n\n  /** A default value for the `visible` prop. */\n  defaultVisible?: boolean;\n\n  /** An alert can be dismissible. */\n  dismissible?: boolean;\n\n  /**\n   * A button shorthand for the dismiss action slot. To use this slot the alert should be\n   * dismissible.\n   */\n  dismissAction?: ShorthandValue<AlertDismissActionProps>;\n\n  /** An alert may be formatted to display information. */\n  info?: boolean;\n\n  /**\n   * Called after user will dismiss the alert.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onVisibleChange?: ComponentEventHandler<AlertProps>;\n\n  /**\n   * Called after the alert is focused.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<AlertProps>;\n\n  /** An alert can be formatted to display a successful message. */\n  success?: boolean;\n\n  /** An alert can be set to visible to force itself to be shown. */\n  visible?: boolean;\n\n  /** An alert can be formatted to display a warning message. */\n  warning?: boolean;\n\n  /** An alert can have a body that contains header and content elements. */\n  body?: ShorthandValue<BoxProps>;\n}\n\nexport interface AlertState {\n  visible: boolean;\n  bodyId: string;\n}\n\nclass Alert extends AutoControlledComponent<WithAsProp<AlertProps>, AlertState> {\n  static displayName = 'Alert';\n  static className = 'ui-alert';\n\n  static slotClassNames: AlertSlotClassNames = {\n    content: `${Alert.className}__content`,\n    actions: `${Alert.className}__actions`,\n    icon: `${Alert.className}__icon`,\n    header: `${Alert.className}__header`,\n    body: `${Alert.className}__body`,\n  };\n\n  static propTypes = {\n    ...commonPropTypes.createCommon({ content: 'shorthand' }),\n    actions: PropTypes.oneOfType([customPropTypes.itemShorthand, customPropTypes.collectionShorthand]),\n    icon: customPropTypes.shorthandAllowingChildren,\n    header: customPropTypes.itemShorthand,\n    attached: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['top', 'bottom'])]),\n    fitted: PropTypes.bool,\n    danger: PropTypes.bool,\n    defaultVisible: PropTypes.bool,\n    dismissible: PropTypes.bool,\n    dismissAction: customPropTypes.itemShorthand,\n    info: PropTypes.bool,\n    onVisibleChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    success: PropTypes.bool,\n    visible: PropTypes.bool,\n    warning: PropTypes.bool,\n    body: customPropTypes.itemShorthand,\n  };\n\n  static defaultProps = {\n    accessibility: alertBehavior,\n    dismissAction: {},\n    body: {},\n  };\n\n  static DismissAction = AlertDismissAction;\n\n  static autoControlledProps = ['visible'];\n\n  getInitialAutoControlledState(): AlertState {\n    return {\n      visible: true,\n      bodyId: _.uniqueId('alert-body-'),\n    };\n  }\n\n  handleDismissOverrides = (predefinedProps: ButtonProps) => ({\n    onClick: (e: React.SyntheticEvent, buttonProps: ButtonProps) => {\n      _.invoke(predefinedProps, 'onClick', e, buttonProps);\n\n      _.invoke(this.props, 'onVisibleChange', e, { ...this.props, visible: false });\n      this.setState({ visible: false });\n    },\n  });\n\n  handleFocus = (e: React.SyntheticEvent) => {\n    _.invoke(this.props, 'onFocus', e, this.props);\n  };\n\n  renderContent = ({ styles, accessibility }: RenderResultConfig<AlertProps>) => {\n    const {\n      actions,\n      dismissible,\n      dismissAction,\n      content,\n      icon,\n      header,\n      body,\n      danger,\n      warning,\n      info,\n      success,\n      variables,\n    } = this.props;\n\n    const bodyContent = (\n      <>\n        {Text.create(header, {\n          defaultProps: () => ({\n            className: Alert.slotClassNames.header,\n            styles: styles.header,\n            ...accessibility.attributes.header,\n          }),\n        })}\n        {Box.create(content, {\n          defaultProps: () => ({\n            className: Alert.slotClassNames.content,\n            styles: styles.content,\n            ...accessibility.attributes.content,\n          }),\n        })}\n      </>\n    );\n\n    return (\n      <>\n        {Box.create(icon, {\n          defaultProps: () => ({\n            className: Alert.slotClassNames.icon,\n            styles: styles.icon,\n          }),\n        })}\n        {Box.create(body, {\n          defaultProps: () => ({\n            id: this.state.bodyId,\n            className: Alert.slotClassNames.body,\n            ...accessibility.attributes.body,\n            styles: styles.body,\n          }),\n          overrideProps: {\n            children: bodyContent,\n          },\n        })}\n\n        {ButtonGroup.create(actions, {\n          defaultProps: () => ({\n            className: Alert.slotClassNames.actions,\n            styles: styles.actions,\n          }),\n        })}\n        {dismissible &&\n          AlertDismissAction.create(dismissAction, {\n            defaultProps: () => ({\n              danger,\n              warning,\n              info,\n              success,\n              variables,\n              ...accessibility.attributes.dismissAction,\n            }),\n            overrideProps: this.handleDismissOverrides,\n          })}\n      </>\n    );\n  };\n\n  renderComponent(config: RenderResultConfig<AlertProps>) {\n    const { accessibility, classes, ElementType, unhandledProps } = config;\n    const { children } = this.props;\n\n    return (\n      <ElementType\n        className={classes.root}\n        onFocus={this.handleFocus}\n        {...accessibility.attributes.root}\n        {...rtlTextContainer.getAttributes({ forElements: [children] })}\n        {...unhandledProps}\n      >\n        {childrenExist(children) ? children : this.renderContent(config)}\n      </ElementType>\n    );\n  }\n}\n\n/**\n * An Alert displays a brief, important message to attract a user's attention without interrupting their current task.\n *\n * @accessibility\n * Implements [ARIA Alert](https://www.w3.org/TR/wai-aria-practices-1.1/#alert) design pattern.\n */\nexport default withSafeTypeForAs<typeof Alert, AlertProps>(Alert);\n"],"file":"Alert.js"}