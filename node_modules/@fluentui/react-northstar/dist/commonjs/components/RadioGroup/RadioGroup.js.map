{"version":3,"sources":["components/RadioGroup/RadioGroup.tsx"],"names":["RadioGroup","nextItem","event","setCheckedItem","prevItem","item","props","direction","findNextEnabledCheckedItem","setCheckedValue","checkedValue","value","shouldFocus","preventDefault","items","length","undefined","currentIndex","state","getItemProps","newIndex","itemProps","disabled","predefinedProps","checked","onClick","vertical","isNoneValueSelected","index","RadioGroupItem","create","defaultProps","className","slotClassNames","tabIndex","overrideProps","handleItemOverrides","ElementType","classes","accessibility","unhandledProps","children","attributes","root","rtlTextContainer","getAttributes","forElements","keyHandlers","renderItems","setState","AutoControlledComponent","commonPropTypes","createCommon","content","PropTypes","oneOfType","number","string","defaultCheckedValue","customPropTypes","collectionShorthand","onCheckedValueChange","func","bool","as","radioGroupBehavior"],"mappings":"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","sourcesContent":["// TODO:\n// vertical - padding variable?\nimport { Accessibility, radioGroupBehavior } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  AutoControlledComponent,\n  childrenExist,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  applyAccessibilityKeyHandlers,\n  ShorthandFactory,\n} from '../../utils';\nimport RadioGroupItem, { RadioGroupItemProps } from './RadioGroupItem';\nimport { WithAsProp, ComponentEventHandler, withSafeTypeForAs, ShorthandCollection } from '../../types';\n\nexport interface RadioGroupSlotClassNames {\n  item: string;\n}\n\nexport interface RadioGroupProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility;\n\n  /** Value of the currently checked radio item. */\n  checkedValue?: number | string;\n\n  /**\n   * Called after radio group value is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All value props.\n   */\n  onCheckedValueChange?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** Initial checkedValue value. */\n  defaultCheckedValue?: number | string;\n\n  /** Shorthand array of props for RadioGroup. */\n  items?: ShorthandCollection<RadioGroupItemProps>;\n\n  /** A vertical radio group displays elements vertically. */\n  vertical?: boolean;\n}\n\nclass RadioGroup extends AutoControlledComponent<WithAsProp<RadioGroupProps>, any> {\n  static displayName = 'RadioGroup';\n\n  static className = 'ui-radiogroup';\n\n  static slotClassNames: RadioGroupSlotClassNames = {\n    item: `${RadioGroup.className}__item`,\n  };\n\n  static create: ShorthandFactory<RadioGroupProps>;\n\n  static propTypes = {\n    ...commonPropTypes.createCommon({\n      content: false,\n    }),\n    checkedValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    defaultCheckedValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    items: customPropTypes.collectionShorthand,\n    onCheckedValueChange: PropTypes.func,\n    vertical: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    as: 'div',\n    accessibility: radioGroupBehavior as Accessibility,\n  };\n\n  static autoControlledProps = ['checkedValue'];\n\n  static Item = RadioGroupItem;\n\n  renderComponent({ ElementType, classes, accessibility, unhandledProps }) {\n    const { children, vertical } = this.props;\n    return (\n      <ElementType\n        {...accessibility.attributes.root}\n        {...rtlTextContainer.getAttributes({ forElements: [children] })}\n        {...unhandledProps}\n        {...applyAccessibilityKeyHandlers(accessibility.keyHandlers.root, unhandledProps)}\n        className={classes.root}\n      >\n        {childrenExist(children) ? children : this.renderItems(vertical)}\n      </ElementType>\n    );\n  }\n\n  actionHandlers = {\n    nextItem: event => this.setCheckedItem(event, 1),\n    prevItem: event => this.setCheckedItem(event, -1),\n  };\n\n  getItemProps = (item): RadioGroupItemProps => {\n    return (item as React.ReactElement<RadioGroupItemProps>).props || item;\n  };\n\n  setCheckedItem = (event, direction) => {\n    const nextItem = this.findNextEnabledCheckedItem(direction);\n\n    if (nextItem) {\n      this.setCheckedValue({\n        checkedValue: nextItem.value,\n        shouldFocus: true,\n        event,\n        props: nextItem,\n      });\n    }\n    event.preventDefault();\n  };\n\n  findNextEnabledCheckedItem = (direction): RadioGroupItemProps => {\n    if (!this.props.items || !this.props.items.length) {\n      return undefined;\n    }\n\n    const currentIndex =\n      // if none of the values selected, set current index to the first item\n      this.state.checkedValue !== undefined\n        ? _.findIndex(this.props.items, item => this.getItemProps(item).value === this.state.checkedValue)\n        : 0;\n\n    for (let newIndex = currentIndex + direction; newIndex !== currentIndex; newIndex += direction) {\n      if (newIndex < 0) {\n        newIndex = this.props.items.length - 1;\n      } else if (newIndex >= this.props.items.length) {\n        newIndex = 0;\n      }\n\n      if (newIndex === currentIndex) {\n        return undefined;\n      }\n\n      const itemProps = this.getItemProps(this.props.items[newIndex]);\n      if (!itemProps.disabled) {\n        return itemProps;\n      }\n    }\n    return undefined;\n  };\n\n  handleItemOverrides = predefinedProps => ({\n    checked: typeof this.state.checkedValue !== 'undefined' && this.state.checkedValue === predefinedProps.value,\n    onClick: (event, itemProps) => {\n      const { value, disabled } = itemProps;\n      if (!disabled && value !== this.state.checkedValue) {\n        this.setCheckedValue({ checkedValue: value, shouldFocus: false, event, props: itemProps });\n      }\n      _.invoke(predefinedProps, 'onClick', event, itemProps);\n    },\n    shouldFocus: this.state.shouldFocus,\n  });\n\n  renderItems = (vertical: boolean) => {\n    const { items } = this.props;\n    const isNoneValueSelected = this.state.checkedValue === undefined;\n\n    return _.map(items, (item, index) =>\n      RadioGroupItem.create(item, {\n        defaultProps: () => ({\n          className: RadioGroup.slotClassNames.item,\n          vertical,\n          ...(index === 0 && isNoneValueSelected && { tabIndex: 0 }),\n        }),\n        overrideProps: this.handleItemOverrides,\n      }),\n    );\n  };\n\n  setCheckedValue({\n    checkedValue,\n    shouldFocus,\n    event,\n    props,\n  }: {\n    checkedValue: number | string;\n    shouldFocus: boolean;\n    event: React.SyntheticEvent;\n    props: RadioGroupItemProps;\n  }) {\n    this.setState({ checkedValue, shouldFocus });\n    _.invoke(this.props, 'onCheckedValueChange', event, props);\n  }\n}\n\n/**\n * A RadioGroup allows user to select a value from a small set of mutually exclusive options.\n *\n * @accessibility\n * Implements [ARIA Radio Group](https://www.w3.org/TR/wai-aria-practices-1.1/#radiobutton) design pattern.\n */\nexport default withSafeTypeForAs<typeof RadioGroup, RadioGroupProps>(RadioGroup);\n"],"file":"RadioGroup.js"}