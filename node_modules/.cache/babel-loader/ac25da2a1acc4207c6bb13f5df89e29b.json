{"ast":null,"code":"import _invoke from \"lodash/invoke\";\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport { tableCellBehavior } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { childrenExist, commonPropTypes, createShorthandFactory } from '../../utils';\nimport { useTelemetry, useStyles, getElementType, useUnhandledProps, useAccessibility } from '@fluentui/react-bindings'; // @ts-ignore\n\nimport { ThemeContext } from 'react-fela';\nimport Box from '../Box/Box';\nimport { withSafeTypeForAs } from '../../types';\n\nvar TableCell = function TableCell(props) {\n  var context = React.useContext(ThemeContext);\n\n  var _useTelemetry = useTelemetry(TableCell.displayName, context.telemetry),\n      setStart = _useTelemetry.setStart,\n      setEnd = _useTelemetry.setEnd;\n\n  setStart();\n  var cellRef = React.useRef();\n  var children = props.children,\n      content = props.content,\n      truncateContent = props.truncateContent,\n      className = props.className,\n      design = props.design,\n      styles = props.styles,\n      variables = props.variables;\n  var hasChildren = childrenExist(children);\n  var ElementType = getElementType(props);\n  var unhandledProps = useUnhandledProps(TableCell.handledProps, props);\n  var getA11yProps = useAccessibility(props.accessibility, {\n    debugName: TableCell.displayName,\n    actionHandlers: {\n      focusCell: function focusCell(e) {\n        e.preventDefault();\n        cellRef.current.focus();\n      },\n      performClick: function performClick(e) {\n        handleClick(e);\n      }\n    },\n    rtl: context.rtl\n  });\n\n  var _useStyles = useStyles(TableCell.displayName, {\n    className: TableCell.className,\n    mapPropsToStyles: function mapPropsToStyles() {\n      return {\n        truncateContent: truncateContent\n      };\n    },\n    mapPropsToInlineStyles: function mapPropsToInlineStyles() {\n      return {\n        className: className,\n        design: design,\n        styles: styles,\n        variables: variables\n      };\n    },\n    rtl: context.rtl\n  }),\n      classes = _useStyles.classes,\n      resolvedStyles = _useStyles.styles;\n\n  var handleClick = function handleClick(e) {\n    if (e.currentTarget === e.target) {\n      _invoke(props, 'onClick', e, props);\n\n      e.preventDefault();\n    }\n  };\n\n  var element = React.createElement(Ref, {\n    innerRef: cellRef\n  }, getA11yProps.unstable_wrapWithFocusZone(React.createElement(ElementType, getA11yProps('root', Object.assign({\n    className: classes.root,\n    onClick: handleClick\n  }, unhandledProps)), hasChildren ? children : Box.create(content, {\n    defaultProps: function defaultProps() {\n      return {\n        styles: resolvedStyles.content\n      };\n    }\n  }))));\n  setEnd();\n  return element;\n};\n\nTableCell.displayName = 'TableCell';\nTableCell.className = 'ui-table__cell';\nTableCell.slotClassNames = {\n  content: \"\".concat(TableCell.className, \"__content\")\n};\nTableCell.propTypes = Object.assign({}, commonPropTypes.createCommon({\n  content: false\n}), {\n  content: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.oneOfType([PropTypes.arrayOf(customPropTypes.nodeContent), customPropTypes.nodeContent])]),\n  truncateContent: PropTypes.bool\n});\nTableCell.handledProps = Object.keys(TableCell.propTypes);\nTableCell.defaultProps = {\n  accessibility: tableCellBehavior\n};\nTableCell.create = createShorthandFactory({\n  Component: TableCell,\n  mappedProp: 'content'\n});\n/**\n * Component represents a table cell\n */\n\nexport default withSafeTypeForAs(TableCell);","map":{"version":3,"sources":["components/Table/TableCell.tsx"],"names":["TableCell","context","React","setStart","setEnd","useTelemetry","cellRef","children","content","truncateContent","className","design","styles","variables","props","hasChildren","childrenExist","ElementType","getElementType","unhandledProps","useUnhandledProps","getA11yProps","useAccessibility","debugName","actionHandlers","focusCell","e","performClick","handleClick","rtl","classes","resolvedStyles","useStyles","mapPropsToStyles","mapPropsToInlineStyles","element","onClick","defaultProps","customPropTypes","PropTypes","bool","Object","accessibility","tableCellBehavior","createShorthandFactory","Component","mappedProp","withSafeTypeForAs"],"mappings":"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","sourcesContent":["import * as customPropTypes from '@fluentui/react-proptypes';\nimport { Accessibility, tableCellBehavior, TableCellBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as _ from 'lodash';\nimport {\n  childrenExist,\n  ChildrenComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  createShorthandFactory,\n  UIComponentProps,\n} from '../../utils';\nimport { useTelemetry, useStyles, getElementType, useUnhandledProps, useAccessibility } from '@fluentui/react-bindings';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\nimport Box, { BoxProps } from '../Box/Box';\nimport {\n  WithAsProp,\n  ShorthandValue,\n  withSafeTypeForAs,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\n\nexport interface TableCellProps\n  extends UIComponentProps,\n    ChildrenComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available TableCellBehavior\n   * */\n  accessibility?: Accessibility<TableCellBehaviorProps>;\n\n  /**\n   * Truncate cell's content\n   */\n  truncateContent?: boolean;\n}\n\nexport type TableCellStylesProps = Pick<TableCellProps, 'truncateContent'>;\n\nexport interface TableCellSlotClassNames {\n  content: string;\n}\n\nconst TableCell: React.FC<WithAsProp<TableCellProps>> &\n  FluentComponentStaticProps<TableCellProps> & {\n    slotClassNames: TableCellSlotClassNames;\n  } = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(TableCell.displayName, context.telemetry);\n  setStart();\n  const cellRef = React.useRef<HTMLElement>();\n\n  const { children, content, truncateContent, className, design, styles, variables } = props;\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableCell.handledProps, props);\n  const getA11yProps = useAccessibility(props.accessibility, {\n    debugName: TableCell.displayName,\n    actionHandlers: {\n      focusCell: e => {\n        e.preventDefault();\n        cellRef.current.focus();\n      },\n      performClick: e => {\n        handleClick(e);\n      },\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<TableCellStylesProps>(TableCell.displayName, {\n    className: TableCell.className,\n    mapPropsToStyles: () => ({\n      truncateContent,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (e.currentTarget === e.target) {\n      _.invoke(props, 'onClick', e, props);\n      e.preventDefault();\n    }\n  };\n\n  const element = (\n    <Ref innerRef={cellRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            onClick: handleClick,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren\n            ? children\n            : Box.create(content, {\n                defaultProps: () => ({ styles: resolvedStyles.content }),\n              })}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n};\n\nTableCell.displayName = 'TableCell';\n\nTableCell.className = 'ui-table__cell';\n\nTableCell.slotClassNames = {\n  content: `${TableCell.className}__content`,\n};\n\nTableCell.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  content: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(customPropTypes.nodeContent), customPropTypes.nodeContent]),\n  ]),\n  truncateContent: PropTypes.bool,\n};\n\nTableCell.handledProps = Object.keys(TableCell.propTypes) as any;\n\nTableCell.defaultProps = {\n  accessibility: tableCellBehavior,\n};\n\nTableCell.create = createShorthandFactory({ Component: TableCell, mappedProp: 'content' });\n\n/**\n * Component represents a table cell\n */\nexport default withSafeTypeForAs<typeof TableCell, TableCellProps, 'div'>(TableCell);\n"]},"metadata":{},"sourceType":"module"}