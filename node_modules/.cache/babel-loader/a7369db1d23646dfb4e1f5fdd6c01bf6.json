{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _invoke from \"lodash/invoke\";\nimport { IS_FOCUSABLE_ATTRIBUTE, chatMessageBehavior, menuAsToolbarBehavior } from '@fluentui/accessibility';\nimport { getElementType, useUnhandledProps, useAccessibility, useStyles, useTelemetry } from '@fluentui/react-bindings';\nimport { useContextSelector } from '@fluentui/react-context-selector';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport cx from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react'; // @ts-ignore\n\nimport { ThemeContext } from 'react-fela';\nimport { Popper, getPopperPropsFromShorthand } from '../../utils/positioner';\nimport { childrenExist, createShorthandFactory, commonPropTypes, rtlTextContainer } from '../../utils';\nimport { withSafeTypeForAs } from '../../types';\nimport Box from '../Box/Box';\nimport Label from '../Label/Label';\nimport Menu from '../Menu/Menu';\nimport Text from '../Text/Text';\nimport Reaction from '../Reaction/Reaction';\nimport { ChatItemContext } from './chatItemContext';\n\nvar ChatMessage = function ChatMessage(props) {\n  var context = React.useContext(ThemeContext);\n\n  var _useTelemetry = useTelemetry(ChatMessage.displayName, context.telemetry),\n      setStart = _useTelemetry.setStart,\n      setEnd = _useTelemetry.setEnd;\n\n  setStart();\n  var parentAttached = useContextSelector(ChatItemContext, function (v) {\n    return v.attached;\n  });\n  var accessibility = props.accessibility,\n      actionMenu = props.actionMenu,\n      _props$attached = props.attached,\n      attached = _props$attached === void 0 ? parentAttached : _props$attached,\n      author = props.author,\n      badge = props.badge,\n      badgePosition = props.badgePosition,\n      children = props.children,\n      className = props.className,\n      content = props.content,\n      design = props.design,\n      mine = props.mine,\n      positionActionMenu = props.positionActionMenu,\n      reactionGroup = props.reactionGroup,\n      reactionGroupPosition = props.reactionGroupPosition,\n      timestamp = props.timestamp,\n      styles = props.styles,\n      variables = props.variables,\n      overflow = props.unstable_overflow;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focused = _React$useState2[0],\n      setFocused = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      messageNode = _React$useState4[0],\n      setMessageNode = _React$useState4[1];\n\n  var menuRef = React.useRef();\n  var updateActionsMenuPosition = React.useRef(null);\n  var getA11Props = useAccessibility(accessibility, {\n    actionHandlers: {\n      // prevents default FocusZone behavior, e.g., in ChatMessageBehavior, it prevents FocusZone from using arrow keys\n      // as navigation (only Tab key should work)\n      preventDefault: function preventDefault(event) {\n        // preventDefault only if event coming from inside the message\n        if (event.currentTarget !== event.target) {\n          event.preventDefault();\n        }\n      },\n      focus: function focus(event) {\n        if (messageNode) {\n          messageNode.focus();\n          event.stopPropagation();\n        }\n      }\n    }\n  });\n\n  var _useStyles = useStyles(ChatMessage.displayName, {\n    className: ChatMessage.className,\n    mapPropsToStyles: function mapPropsToStyles() {\n      return {\n        attached: attached,\n        badgePosition: badgePosition,\n        focused: focused,\n        mine: mine,\n        hasBadge: !!badge,\n        hasReactionGroup: !!reactionGroup\n      };\n    },\n    mapPropsToInlineStyles: function mapPropsToInlineStyles() {\n      return {\n        className: className,\n        design: design,\n        styles: styles,\n        variables: variables\n      };\n    },\n    rtl: context.rtl\n  }),\n      classes = _useStyles.classes,\n      resolvedStyles = _useStyles.styles;\n\n  var handleFocus = function handleFocus(e) {\n    _invoke(updateActionsMenuPosition, 'current');\n\n    setFocused(true);\n\n    _invoke(props, 'onFocus', e, props);\n  };\n\n  var handleBlur = function handleBlur(e) {\n    // `focused` controls is focused the whole `ChatMessage` or any of its children. When we're navigating\n    // with keyboard the focused element will be changed and there is no way to use `:focus` selector\n    var shouldPreserveFocusState = _invoke(e, 'currentTarget.contains', e.relatedTarget);\n\n    setFocused(shouldPreserveFocusState);\n\n    _invoke(props, 'onBlur', e, props);\n  };\n\n  var handleMouseEnter = function handleMouseEnter(e) {\n    _invoke(updateActionsMenuPosition, 'current');\n\n    _invoke(props, 'onMouseEnter', e, props);\n  };\n\n  var renderActionMenu = function renderActionMenu() {\n    var actionMenuElement = Menu.create(actionMenu, {\n      defaultProps: function defaultProps() {\n        var _ref;\n\n        return _ref = {}, _defineProperty(_ref, IS_FOCUSABLE_ATTRIBUTE, true), _defineProperty(_ref, \"accessibility\", menuAsToolbarBehavior), _defineProperty(_ref, \"className\", ChatMessage.slotClassNames.actionMenu), _defineProperty(_ref, \"styles\", resolvedStyles.actionMenu), _ref;\n      }\n    });\n\n    if (!actionMenuElement) {\n      return actionMenuElement;\n    }\n\n    var messageRect = positionActionMenu && (messageNode === null || messageNode === void 0 ? void 0 : messageNode.getBoundingClientRect());\n    var overflowPadding = {\n      top: Math.round((messageRect === null || messageRect === void 0 ? void 0 : messageRect.height) || 0)\n    };\n    return React.createElement(Popper, _extends({\n      enabled: positionActionMenu,\n      align: \"end\",\n      modifiers: positionActionMenu && {\n        // https://popper.js.org/popper-documentation.html#modifiers..flip.behavior\n        // Forces to flip only in \"top-*\" positions\n        flip: {\n          behavior: ['top']\n        },\n        preventOverflow: Object.assign({\n          escapeWithReference: false,\n          // https://popper.js.org/popper-documentation.html#modifiers..preventOverflow.priority\n          // Forces to stop prevent overflow on bottom and bottom\n          priority: ['left', 'right']\n        }, overflow && {\n          boundariesElement: 'scrollParent',\n          padding: overflowPadding\n        })\n      },\n      position: \"above\",\n      positionFixed: overflow,\n      targetRef: messageNode\n    }, getPopperPropsFromShorthand(actionMenu)), function (_ref2) {\n      var scheduleUpdate = _ref2.scheduleUpdate;\n      updateActionsMenuPosition.current = scheduleUpdate;\n      return React.createElement(Ref, {\n        innerRef: menuRef\n      }, actionMenuElement);\n    });\n  };\n\n  var childrenPropExists = childrenExist(children);\n  var rootClasses = childrenPropExists ? cx(classes.root, classes.content) : classes.root;\n  var ElementType = getElementType(props);\n  var unhandledProps = useUnhandledProps(ChatMessage.handledProps, props);\n  var badgeElement = Label.create(badge, {\n    defaultProps: function defaultProps() {\n      return {\n        className: ChatMessage.slotClassNames.badge,\n        styles: resolvedStyles.badge\n      };\n    }\n  });\n  var reactionGroupElement = Reaction.Group.create(reactionGroup, {\n    defaultProps: function defaultProps() {\n      return {\n        className: ChatMessage.slotClassNames.reactionGroup,\n        styles: resolvedStyles.reactionGroup\n      };\n    }\n  });\n  var actionMenuElement = renderActionMenu();\n  var authorElement = Text.create(author, {\n    defaultProps: function defaultProps() {\n      return {\n        size: 'small',\n        styles: resolvedStyles.author,\n        className: ChatMessage.slotClassNames.author\n      };\n    }\n  });\n  var timestampElement = Text.create(timestamp, {\n    defaultProps: function defaultProps() {\n      return {\n        size: 'small',\n        styles: resolvedStyles.timestamp,\n        timestamp: true,\n        className: ChatMessage.slotClassNames.timestamp\n      };\n    }\n  });\n  var messageContent = Box.create(content, {\n    defaultProps: function defaultProps() {\n      return {\n        className: ChatMessage.slotClassNames.content,\n        styles: resolvedStyles.content\n      };\n    }\n  });\n  var element = React.createElement(Ref, {\n    innerRef: setMessageNode\n  }, getA11Props.unstable_wrapWithFocusZone(React.createElement(ElementType, getA11Props('root', Object.assign({\n    className: rootClasses,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onMouseEnter: handleMouseEnter\n  }, rtlTextContainer.getAttributes({\n    forElements: [children]\n  }), {}, unhandledProps)), childrenPropExists ? children : React.createElement(React.Fragment, null, actionMenuElement, badgePosition === 'start' && badgeElement, authorElement, timestampElement, reactionGroupPosition === 'start' && reactionGroupElement, messageContent, reactionGroupPosition === 'end' && reactionGroupElement, badgePosition === 'end' && badgeElement))));\n  setEnd();\n  return element;\n};\n\nChatMessage.className = 'ui-chat__message';\nChatMessage.displayName = 'ChatMessage';\nChatMessage.defaultProps = {\n  accessibility: chatMessageBehavior,\n  badgePosition: 'end',\n  positionActionMenu: true,\n  reactionGroupPosition: 'start'\n};\nChatMessage.propTypes = Object.assign({}, commonPropTypes.createCommon({\n  content: 'shorthand'\n}), {\n  actionMenu: PropTypes.oneOfType([customPropTypes.itemShorthand, customPropTypes.collectionShorthand]),\n  attached: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['top', 'bottom'])]),\n  author: customPropTypes.itemShorthand,\n  badge: customPropTypes.itemShorthand,\n  badgePosition: PropTypes.oneOf(['start', 'end']),\n  mine: PropTypes.bool,\n  timestamp: customPropTypes.itemShorthand,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  positionActionMenu: PropTypes.bool,\n  reactionGroup: PropTypes.oneOfType([customPropTypes.collectionShorthand, customPropTypes.itemShorthand]),\n  reactionGroupPosition: PropTypes.oneOf(['start', 'end']),\n  unstable_overflow: PropTypes.bool\n});\nChatMessage.handledProps = Object.keys(ChatMessage.propTypes);\nChatMessage.create = createShorthandFactory({\n  Component: ChatMessage,\n  mappedProp: 'content'\n});\nChatMessage.slotClassNames = {\n  actionMenu: \"\".concat(ChatMessage.className, \"__actions\"),\n  author: \"\".concat(ChatMessage.className, \"__author\"),\n  timestamp: \"\".concat(ChatMessage.className, \"__timestamp\"),\n  badge: \"\".concat(ChatMessage.className, \"__badge\"),\n  content: \"\".concat(ChatMessage.className, \"__content\"),\n  reactionGroup: \"\".concat(ChatMessage.className, \"__reactions\")\n};\n/**\n * A ChatMessage represents a single message in chat.\n */\n\nexport default withSafeTypeForAs(ChatMessage);","map":{"version":3,"sources":["components/Chat/ChatMessage.tsx"],"names":["ChatMessage","context","React","setStart","setEnd","useTelemetry","parentAttached","useContextSelector","v","accessibility","actionMenu","attached","author","badge","badgePosition","children","className","content","design","mine","positionActionMenu","reactionGroup","reactionGroupPosition","timestamp","styles","variables","overflow","props","focused","setFocused","messageNode","setMessageNode","menuRef","updateActionsMenuPosition","getA11Props","useAccessibility","actionHandlers","preventDefault","event","focus","classes","resolvedStyles","useStyles","mapPropsToStyles","hasBadge","hasReactionGroup","mapPropsToInlineStyles","rtl","handleFocus","handleBlur","shouldPreserveFocusState","e","handleMouseEnter","renderActionMenu","actionMenuElement","defaultProps","messageRect","overflowPadding","top","Math","flip","behavior","preventOverflow","escapeWithReference","priority","boundariesElement","padding","getPopperPropsFromShorthand","scheduleUpdate","childrenPropExists","childrenExist","rootClasses","cx","ElementType","getElementType","unhandledProps","useUnhandledProps","badgeElement","reactionGroupElement","authorElement","size","timestampElement","messageContent","element","onBlur","onFocus","onMouseEnter","forElements","PropTypes","customPropTypes","unstable_overflow","bool","Object","createShorthandFactory","Component","mappedProp","withSafeTypeForAs"],"mappings":"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","sourcesContent":["import {\n  Accessibility,\n  IS_FOCUSABLE_ATTRIBUTE,\n  chatMessageBehavior,\n  menuAsToolbarBehavior,\n  ChatMessageBehaviorProps,\n} from '@fluentui/accessibility';\nimport { getElementType, useUnhandledProps, useAccessibility, useStyles, useTelemetry } from '@fluentui/react-bindings';\nimport { useContextSelector } from '@fluentui/react-context-selector';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport PopperJs from 'popper.js';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\n\nimport { Popper, PopperShorthandProps, getPopperPropsFromShorthand } from '../../utils/positioner';\nimport {\n  childrenExist,\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n} from '../../utils';\nimport {\n  WithAsProp,\n  ShorthandValue,\n  ComponentEventHandler,\n  withSafeTypeForAs,\n  ShorthandCollection,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\nimport Box, { BoxProps } from '../Box/Box';\nimport Label, { LabelProps } from '../Label/Label';\nimport Menu, { MenuProps } from '../Menu/Menu';\nimport { MenuItemProps } from '../Menu/MenuItem';\nimport Text, { TextProps } from '../Text/Text';\nimport Reaction, { ReactionProps } from '../Reaction/Reaction';\nimport { ReactionGroupProps } from '../Reaction/ReactionGroup';\nimport { ChatItemContext } from './chatItemContext';\n\nexport interface ChatMessageSlotClassNames {\n  actionMenu: string;\n  author: string;\n  timestamp: string;\n  badge: string;\n  content: string;\n  reactionGroup: string;\n}\n\nexport interface ChatMessageProps\n  extends UIComponentProps,\n    ChildrenComponentProps,\n    ContentComponentProps<ShorthandValue<BoxProps>> {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<ChatMessageBehaviorProps>;\n\n  /** Menu with actions of the message. */\n  actionMenu?: ShorthandValue<MenuProps & { popper?: PopperShorthandProps }> | ShorthandCollection<MenuItemProps>;\n\n  /** Controls messages's relation to other chat messages. Is automatically set by the ChatItem. */\n  attached?: boolean | 'top' | 'bottom';\n\n  /** Author of the message. */\n  author?: ShorthandValue<TextProps>;\n\n  /** Indicates whether message belongs to the current user. */\n  mine?: boolean;\n\n  /** Timestamp of the message. */\n  timestamp?: ShorthandValue<TextProps>;\n\n  /** Badge attached to the message. */\n  badge?: ShorthandValue<LabelProps>;\n\n  /** A message can format the badge to appear at the start or the end of the message. */\n  badgePosition?: 'start' | 'end';\n\n  /**\n   * Called after user's blur.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onBlur?: ComponentEventHandler<ChatMessageProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<ChatMessageProps>;\n\n  /**\n   * Called after user enters by mouse.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onMouseEnter?: ComponentEventHandler<ChatMessageProps>;\n\n  /** Allows suppression of action menu positioning for performance reasons */\n  positionActionMenu?: boolean;\n\n  /** Reaction group applied to the message. */\n  reactionGroup?: ShorthandValue<ReactionGroupProps> | ShorthandCollection<ReactionProps>;\n\n  /** A message can format the reactions group to appear at the start or the end of the message. */\n  reactionGroupPosition?: 'start' | 'end';\n\n  /** Positions an actionMenu slot in \"fixed\" mode. */\n  unstable_overflow?: boolean;\n}\n\nexport type ChatMessageStylesProps = Pick<ChatMessageProps, 'attached' | 'badgePosition' | 'mine'> & {\n  focused: boolean;\n  hasBadge: boolean;\n  hasReactionGroup: boolean;\n};\n\nconst ChatMessage: React.FC<WithAsProp<ChatMessageProps>> &\n  FluentComponentStaticProps<ChatMessageProps> & {\n    slotClassNames: ChatMessageSlotClassNames;\n  } = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(ChatMessage.displayName, context.telemetry);\n  setStart();\n\n  const parentAttached = useContextSelector(ChatItemContext, v => v.attached);\n  const {\n    accessibility,\n    actionMenu,\n    attached = parentAttached,\n    author,\n    badge,\n    badgePosition,\n    children,\n    className,\n    content,\n    design,\n    mine,\n    positionActionMenu,\n    reactionGroup,\n    reactionGroupPosition,\n    timestamp,\n    styles,\n    variables,\n    unstable_overflow: overflow,\n  } = props;\n\n  const [focused, setFocused] = React.useState<boolean>(false);\n  const [messageNode, setMessageNode] = React.useState<HTMLElement | null>(null);\n\n  const menuRef = React.useRef<HTMLElement>();\n  const updateActionsMenuPosition = React.useRef<(() => void) | null>(null);\n\n  const getA11Props = useAccessibility(accessibility, {\n    actionHandlers: {\n      // prevents default FocusZone behavior, e.g., in ChatMessageBehavior, it prevents FocusZone from using arrow keys\n      // as navigation (only Tab key should work)\n      preventDefault: event => {\n        // preventDefault only if event coming from inside the message\n        if (event.currentTarget !== event.target) {\n          event.preventDefault();\n        }\n      },\n\n      focus: event => {\n        if (messageNode) {\n          messageNode.focus();\n          event.stopPropagation();\n        }\n      },\n    },\n  });\n  const { classes, styles: resolvedStyles } = useStyles<ChatMessageStylesProps>(ChatMessage.displayName, {\n    className: ChatMessage.className,\n    mapPropsToStyles: () => ({\n      attached,\n      badgePosition,\n      focused,\n      mine,\n      hasBadge: !!badge,\n      hasReactionGroup: !!reactionGroup,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleFocus = (e: React.SyntheticEvent) => {\n    _.invoke(updateActionsMenuPosition, 'current');\n\n    setFocused(true);\n    _.invoke(props, 'onFocus', e, props);\n  };\n\n  const handleBlur = (e: React.SyntheticEvent) => {\n    // `focused` controls is focused the whole `ChatMessage` or any of its children. When we're navigating\n    // with keyboard the focused element will be changed and there is no way to use `:focus` selector\n    const shouldPreserveFocusState = _.invoke(e, 'currentTarget.contains', (e as any).relatedTarget);\n\n    setFocused(shouldPreserveFocusState);\n    _.invoke(props, 'onBlur', e, props);\n  };\n\n  const handleMouseEnter = (e: React.SyntheticEvent) => {\n    _.invoke(updateActionsMenuPosition, 'current');\n    _.invoke(props, 'onMouseEnter', e, props);\n  };\n\n  const renderActionMenu = () => {\n    const actionMenuElement = Menu.create(actionMenu, {\n      defaultProps: () => ({\n        [IS_FOCUSABLE_ATTRIBUTE]: true,\n        accessibility: menuAsToolbarBehavior,\n        className: ChatMessage.slotClassNames.actionMenu,\n        styles: resolvedStyles.actionMenu,\n      }),\n    });\n\n    if (!actionMenuElement) {\n      return actionMenuElement;\n    }\n\n    const messageRect: DOMRect | undefined = positionActionMenu && messageNode?.getBoundingClientRect();\n    const overflowPadding: PopperJs.Padding = { top: Math.round(messageRect?.height || 0) };\n\n    return (\n      <Popper\n        enabled={positionActionMenu}\n        align=\"end\"\n        modifiers={\n          positionActionMenu && {\n            // https://popper.js.org/popper-documentation.html#modifiers..flip.behavior\n            // Forces to flip only in \"top-*\" positions\n            flip: { behavior: ['top'] },\n            preventOverflow: {\n              escapeWithReference: false,\n              // https://popper.js.org/popper-documentation.html#modifiers..preventOverflow.priority\n              // Forces to stop prevent overflow on bottom and bottom\n              priority: ['left', 'right'],\n\n              // Is required to properly position action items\n              ...(overflow && {\n                boundariesElement: 'scrollParent',\n                padding: overflowPadding,\n              }),\n            },\n          }\n        }\n        position=\"above\"\n        positionFixed={overflow}\n        targetRef={messageNode}\n        {...getPopperPropsFromShorthand(actionMenu)}\n      >\n        {({ scheduleUpdate }) => {\n          updateActionsMenuPosition.current = scheduleUpdate;\n\n          return <Ref innerRef={menuRef}>{actionMenuElement}</Ref>;\n        }}\n      </Popper>\n    );\n  };\n\n  const childrenPropExists = childrenExist(children);\n  const rootClasses = childrenPropExists ? cx(classes.root, classes.content) : classes.root;\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ChatMessage.handledProps, props);\n\n  const badgeElement = Label.create(badge, {\n    defaultProps: () => ({\n      className: ChatMessage.slotClassNames.badge,\n      styles: resolvedStyles.badge,\n    }),\n  });\n\n  const reactionGroupElement = Reaction.Group.create(reactionGroup, {\n    defaultProps: () => ({\n      className: ChatMessage.slotClassNames.reactionGroup,\n      styles: resolvedStyles.reactionGroup,\n    }),\n  });\n\n  const actionMenuElement = renderActionMenu();\n\n  const authorElement = Text.create(author, {\n    defaultProps: () => ({\n      size: 'small',\n      styles: resolvedStyles.author,\n      className: ChatMessage.slotClassNames.author,\n    }),\n  });\n\n  const timestampElement = Text.create(timestamp, {\n    defaultProps: () => ({\n      size: 'small',\n      styles: resolvedStyles.timestamp,\n      timestamp: true,\n      className: ChatMessage.slotClassNames.timestamp,\n    }),\n  });\n\n  const messageContent = Box.create(content, {\n    defaultProps: () => ({\n      className: ChatMessage.slotClassNames.content,\n      styles: resolvedStyles.content,\n    }),\n  });\n\n  const element = (\n    <Ref innerRef={setMessageNode}>\n      {getA11Props.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11Props('root', {\n            className: rootClasses,\n            onBlur: handleBlur,\n            onFocus: handleFocus,\n            onMouseEnter: handleMouseEnter,\n            ...rtlTextContainer.getAttributes({ forElements: [children] }),\n            ...unhandledProps,\n          })}\n        >\n          {childrenPropExists ? (\n            children\n          ) : (\n            <>\n              {actionMenuElement}\n              {badgePosition === 'start' && badgeElement}\n              {authorElement}\n              {timestampElement}\n              {reactionGroupPosition === 'start' && reactionGroupElement}\n              {messageContent}\n              {reactionGroupPosition === 'end' && reactionGroupElement}\n              {badgePosition === 'end' && badgeElement}\n            </>\n          )}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n\n  return element;\n};\n\nChatMessage.className = 'ui-chat__message';\nChatMessage.displayName = 'ChatMessage';\n\nChatMessage.defaultProps = {\n  accessibility: chatMessageBehavior,\n  badgePosition: 'end',\n  positionActionMenu: true,\n  reactionGroupPosition: 'start',\n};\nChatMessage.propTypes = {\n  ...commonPropTypes.createCommon({ content: 'shorthand' }),\n  actionMenu: PropTypes.oneOfType([customPropTypes.itemShorthand, customPropTypes.collectionShorthand]),\n  attached: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf<'top' | 'bottom'>(['top', 'bottom'])]),\n  author: customPropTypes.itemShorthand,\n  badge: customPropTypes.itemShorthand,\n  badgePosition: PropTypes.oneOf(['start', 'end']),\n  mine: PropTypes.bool,\n  timestamp: customPropTypes.itemShorthand,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  positionActionMenu: PropTypes.bool,\n  reactionGroup: PropTypes.oneOfType([customPropTypes.collectionShorthand, customPropTypes.itemShorthand]),\n  reactionGroupPosition: PropTypes.oneOf(['start', 'end']),\n  unstable_overflow: PropTypes.bool,\n};\nChatMessage.handledProps = Object.keys(ChatMessage.propTypes) as any;\n\nChatMessage.create = createShorthandFactory({ Component: ChatMessage, mappedProp: 'content' });\nChatMessage.slotClassNames = {\n  actionMenu: `${ChatMessage.className}__actions`,\n  author: `${ChatMessage.className}__author`,\n  timestamp: `${ChatMessage.className}__timestamp`,\n  badge: `${ChatMessage.className}__badge`,\n  content: `${ChatMessage.className}__content`,\n  reactionGroup: `${ChatMessage.className}__reactions`,\n};\n\n/**\n * A ChatMessage represents a single message in chat.\n */\nexport default withSafeTypeForAs<typeof ChatMessage, ChatMessageProps>(ChatMessage);\n"]},"metadata":{},"sourceType":"module"}